!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){"use strict";function t(t){var n=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(t.target).closest("form").ajaxSubmit(n))}function n(t){var n=t.target,o=e(n);if(!o.is("[type=submit],[type=image]")){var i=o.closest("[type=submit]");if(0===i.length)return;n=i[0]}var a=n.form;if(a.clk=n,"image"===n.type)if(void 0!==t.offsetX)a.clk_x=t.offsetX,a.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var r=o.offset();a.clk_x=t.pageX-r.left,a.clk_y=t.pageY-r.top}else a.clk_x=t.pageX-n.offsetLeft,a.clk_y=t.pageY-n.offsetTop;setTimeout(function(){a.clk=a.clk_x=a.clk_y=null},100)}function o(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var i={};i.fileapi=void 0!==e('<input type="file">').get(0).files,i.formdata=void 0!==window.FormData;var a=!!e.fn.prop;e.fn.attr2=function(){if(!a)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(t,n,r,s){function l(n){function i(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(e){o("cannot get iframe.contentWindow document: "+e)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(n){o("cannot get iframe.contentDocument: "+n),t=e.document}return t}function r(){var t=f.attr2("target"),n=f.attr2("action"),a=f.attr("enctype")||f.attr("encoding")||"multipart/form-data";C.setAttribute("target",h),c&&!/post/i.test(c)||C.setAttribute("method","POST"),n!==u.url&&C.setAttribute("action",u.url),u.skipEncodingOverride||c&&!/post/i.test(c)||f.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),u.timeout&&(_=setTimeout(function(){x=!0,s(1)},u.timeout));var r=[];try{if(u.extraData)for(var l in u.extraData)u.extraData.hasOwnProperty(l)&&(e.isPlainObject(u.extraData[l])&&u.extraData[l].hasOwnProperty("name")&&u.extraData[l].hasOwnProperty("value")?r.push(e('<input type="hidden" name="'+u.extraData[l].name+'">',T).val(u.extraData[l].value).appendTo(C)[0]):r.push(e('<input type="hidden" name="'+l+'">',T).val(u.extraData[l]).appendTo(C)[0]));u.iframeTarget||g.appendTo(N),v.attachEvent?v.attachEvent("onload",s):v.addEventListener("load",s,!1),setTimeout(function e(){try{var t=i(v).readyState;o("state = "+t),t&&"uninitialized"===t.toLowerCase()&&setTimeout(e,50)}catch(t){o("Server abort: ",t," (",t.name,")"),s(2),_&&clearTimeout(_),_=void 0}},15);try{C.submit()}catch(e){document.createElement("form").submit.apply(C)}}finally{C.setAttribute("action",n),C.setAttribute("enctype",a),t?C.setAttribute("target",t):f.removeAttr("target"),e(r).remove()}}function s(t){if(!y.aborted&&!D){if(($=i(v))||(o("cannot access response document"),t=2),1===t&&y)return y.abort("timeout"),void k.reject(y,"timeout");if(2===t&&y)return y.abort("server abort"),void k.reject(y,"error","server abort");if($&&$.location.href!==u.iframeSrc||x){v.detachEvent?v.detachEvent("onload",s):v.removeEventListener("load",s,!1);var n,a="success";try{if(x)throw"timeout";var r="xml"===u.dataType||$.XMLDocument||e.isXMLDoc($);if(o("isXml="+r),!r&&window.opera&&(null===$.body||!$.body.innerHTML)&&--O)return o("requeing onLoad callback, DOM not available"),void setTimeout(s,250);var l=$.body?$.body:$.documentElement;y.responseText=l?l.innerHTML:null,y.responseXML=$.XMLDocument?$.XMLDocument:$,r&&(u.dataType="xml"),y.getResponseHeader=function(e){return{"content-type":u.dataType}[e.toLowerCase()]},l&&(y.status=Number(l.getAttribute("status"))||y.status,y.statusText=l.getAttribute("statusText")||y.statusText);var c=(u.dataType||"").toLowerCase(),d=/(json|script|text)/.test(c);if(d||u.textarea){var f=$.getElementsByTagName("textarea")[0];if(f)y.responseText=f.value,y.status=Number(f.getAttribute("status"))||y.status,y.statusText=f.getAttribute("statusText")||y.statusText;else if(d){var h=$.getElementsByTagName("pre")[0],m=$.getElementsByTagName("body")[0];h?y.responseText=h.textContent?h.textContent:h.innerText:m&&(y.responseText=m.textContent?m.textContent:m.innerText)}}else"xml"===c&&!y.responseXML&&y.responseText&&(y.responseXML=j(y.responseText));try{I=A(y,c,u)}catch(e){a="parsererror",y.error=n=e||a}}catch(e){o("error caught: ",e),a="error",y.error=n=e||a}y.aborted&&(o("upload aborted"),a=null),y.status&&(a=y.status>=200&&y.status<300||304===y.status?"success":"error"),"success"===a?(u.success&&u.success.call(u.context,I,"success",y),k.resolve(y.responseText,"success",y),p&&e.event.trigger("ajaxSuccess",[y,u])):a&&(void 0===n&&(n=y.statusText),u.error&&u.error.call(u.context,y,a,n),k.reject(y,"error",n),p&&e.event.trigger("ajaxError",[y,u,n])),p&&e.event.trigger("ajaxComplete",[y,u]),p&&!--e.active&&e.event.trigger("ajaxStop"),u.complete&&u.complete.call(u.context,y,a),D=!0,u.timeout&&clearTimeout(_),setTimeout(function(){u.iframeTarget?g.attr("src",u.iframeSrc):g.remove(),y.responseXML=null},100)}}}var l,d,u,p,h,g,v,y,b,w,x,_,C=f[0],k=e.Deferred();if(k.abort=function(e){y.abort(e)},n)for(d=0;d<m.length;d++)l=e(m[d]),a?l.prop("disabled",!1):l.removeAttr("disabled");(u=e.extend(!0,{},e.ajaxSettings,t)).context=u.context||u,h="jqFormIO"+(new Date).getTime();var T=C.ownerDocument,N=f.closest("body");if(u.iframeTarget?(w=(g=e(u.iframeTarget,T)).attr2("name"))?h=w:g.attr2("name",h):(g=e('<iframe name="'+h+'" src="'+u.iframeSrc+'" />',T)).css({position:"absolute",top:"-1000px",left:"-1000px"}),v=g[0],y={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var n="timeout"===t?"timeout":"aborted";o("aborting upload... "+n),this.aborted=1;try{v.contentWindow.document.execCommand&&v.contentWindow.document.execCommand("Stop")}catch(e){}g.attr("src",u.iframeSrc),y.error=n,u.error&&u.error.call(u.context,y,n,t),p&&e.event.trigger("ajaxError",[y,u,n]),u.complete&&u.complete.call(u.context,y,n)}},(p=u.global)&&0==e.active++&&e.event.trigger("ajaxStart"),p&&e.event.trigger("ajaxSend",[y,u]),u.beforeSend&&!1===u.beforeSend.call(u.context,y,u))return u.global&&e.active--,k.reject(),k;if(y.aborted)return k.reject(),k;(b=C.clk)&&(w=b.name)&&!b.disabled&&(u.extraData=u.extraData||{},u.extraData[w]=b.value,"image"===b.type&&(u.extraData[w+".x"]=C.clk_x,u.extraData[w+".y"]=C.clk_y));var S=e("meta[name=csrf-token]").attr("content"),E=e("meta[name=csrf-param]").attr("content");E&&S&&(u.extraData=u.extraData||{},u.extraData[E]=S),u.forceSync?r():setTimeout(r,10);var I,$,D,O=50,j=e.parseXML||function(e,t){return window.ActiveXObject?((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!==t.documentElement.nodeName?t:null},P=e.parseJSON||function(e){return window.eval("("+e+")")},A=function(t,n,o){var i=t.getResponseHeader("content-type")||"",a=("xml"===n||!n)&&i.indexOf("xml")>=0,r=a?t.responseXML:t.responseText;return a&&"parsererror"===r.documentElement.nodeName&&e.error&&e.error("parsererror"),o&&o.dataFilter&&(r=o.dataFilter(r,n)),"string"==typeof r&&(("json"===n||!n)&&i.indexOf("json")>=0?r=P(r):("script"===n||!n)&&i.indexOf("javascript")>=0&&e.globalEval(r)),r};return k}if(!this.length)return o("ajaxSubmit: skipping submit process - no element selected"),this;var c,d,u,f=this;"function"==typeof t?t={success:t}:"string"==typeof t||!1===t&&arguments.length>0?(t={url:t,data:n,dataType:r},"function"==typeof s&&(t.success=s)):void 0===t&&(t={}),c=t.method||t.type||this.attr2("method"),(u=(u="string"==typeof(d=t.url||this.attr2("action"))?e.trim(d):"")||window.location.href||"")&&(u=(u.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:u,success:e.ajaxSettings.success,type:c||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var p={};if(this.trigger("form-pre-serialize",[this,t,p]),p.veto)return o("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&!1===t.beforeSerialize(this,t))return o("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var h=t.traditional;void 0===h&&(h=e.ajaxSettings.traditional);var g,m=[],v=this.formToArray(t.semantic,m,t.filtering);if(t.data){var y=e.isFunction(t.data)?t.data(v):t.data;t.extraData=y,g=e.param(y,h)}if(t.beforeSubmit&&!1===t.beforeSubmit(v,this,t))return o("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[v,this,t,p]),p.veto)return o("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var b=e.param(v,h);g&&(b=b?b+"&"+g:g),"GET"===t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+b,t.data=null):t.data=b;var w=[];if(t.resetForm&&w.push(function(){f.resetForm()}),t.clearForm&&w.push(function(){f.clearForm(t.includeHidden)}),!t.dataType&&t.target){var x=t.success||function(){};w.push(function(n,o,i){var a=arguments,r=t.replaceTarget?"replaceWith":"html";e(t.target)[r](n).each(function(){x.apply(this,a)})})}else t.success&&(e.isArray(t.success)?e.merge(w,t.success):w.push(t.success));if(t.success=function(e,n,o){for(var i=t.context||this,a=0,r=w.length;a<r;a++)w[a].apply(i,[e,n,o||f,f])},t.error){var _=t.error;t.error=function(e,n,o){var i=t.context||this;_.apply(i,[e,n,o,f])}}if(t.complete){var C=t.complete;t.complete=function(e,n){var o=t.context||this;C.apply(o,[e,n,f])}}var k=e("input[type=file]:enabled",this).filter(function(){return""!==e(this).val()}).length>0,T="multipart/form-data",N=f.attr("enctype")===T||f.attr("encoding")===T,S=i.fileapi&&i.formdata;o("fileAPI :"+S);var E,I=(k||N)&&!S;!1!==t.iframe&&(t.iframe||I)?t.closeKeepAlive?e.get(t.closeKeepAlive,function(){E=l(v)}):E=l(v):E=(k||N)&&S?function(n){for(var o=new FormData,i=0;i<n.length;i++)o.append(n[i].name,n[i].value);if(t.extraData){var a=function(n){var o,i,a=e.param(n,t.traditional).split("&"),r=a.length,s=[];for(o=0;o<r;o++)a[o]=a[o].replace(/\+/g," "),i=a[o].split("="),s.push([decodeURIComponent(i[0]),decodeURIComponent(i[1])]);return s}(t.extraData);for(i=0;i<a.length;i++)a[i]&&o.append(a[i][0],a[i][1])}t.data=null;var r=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:c||"POST"});t.uploadProgress&&(r.xhr=function(){var n=e.ajaxSettings.xhr();return n.upload&&n.upload.addEventListener("progress",function(e){var n=0,o=e.loaded||e.position,i=e.total;e.lengthComputable&&(n=Math.ceil(o/i*100)),t.uploadProgress(e,o,i,n)},!1),n}),r.data=null;var s=r.beforeSend;return r.beforeSend=function(e,n){t.formData?n.data=t.formData:n.data=o,s&&s.call(this,e,n)},e.ajax(r)}(v):e.ajax(t),f.removeData("jqxhr").data("jqxhr",E);for(var $=0;$<m.length;$++)m[$]=null;return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(i,a,r,s){if(("string"==typeof i||!1===i&&arguments.length>0)&&(i={url:i,data:a,dataType:r},"function"==typeof s&&(i.success=s)),(i=i||{}).delegation=i.delegation&&e.isFunction(e.fn.on),!i.delegation&&0===this.length){var l={s:this.selector,c:this.context};return!e.isReady&&l.s?(o("DOM not ready, queuing ajaxForm"),e(function(){e(l.s,l.c).ajaxForm(i)}),this):(o("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return i.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,n).on("submit.form-plugin",this.selector,i,t).on("click.form-plugin",this.selector,i,n),this):this.ajaxFormUnbind().on("submit.form-plugin",i,t).on("click.form-plugin",i,n)},e.fn.ajaxFormUnbind=function(){return this.off("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,n,o){var a=[];if(0===this.length)return a;var r,s,l,c,d,u,f,p,h=this[0],g=this.attr("id"),m=t||void 0===h.elements?h.getElementsByTagName("*"):h.elements;if(m&&(m=e.makeArray(m)),g&&(t||/(Edge|Trident)\//.test(navigator.userAgent))&&((r=e(':input[form="'+g+'"]').get()).length&&(m=(m||[]).concat(r))),!m||!m.length)return a;for(e.isFunction(o)&&(m=e.map(m,o)),s=0,f=m.length;s<f;s++)if((c=(u=m[s]).name)&&!u.disabled)if(t&&h.clk&&"image"===u.type)h.clk===u&&(a.push({name:c,value:e(u).val(),type:u.type}),a.push({name:c+".x",value:h.clk_x},{name:c+".y",value:h.clk_y}));else if((d=e.fieldValue(u,!0))&&d.constructor===Array)for(n&&n.push(u),l=0,p=d.length;l<p;l++)a.push({name:c,value:d[l]});else if(i.fileapi&&"file"===u.type){n&&n.push(u);var v=u.files;if(v.length)for(l=0;l<v.length;l++)a.push({name:c,value:v[l],type:u.type});else a.push({name:c,value:"",type:u.type})}else null!=d&&(n&&n.push(u),a.push({name:c,value:d,type:u.type,required:u.required}));if(!t&&h.clk){var y=e(h.clk),b=y[0];(c=b.name)&&!b.disabled&&"image"===b.type&&(a.push({name:c,value:y.val()}),a.push({name:c+".x",value:h.clk_x},{name:c+".y",value:h.clk_y}))}return a},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var n=[];return this.each(function(){var o=this.name;if(o){var i=e.fieldValue(this,t);if(i&&i.constructor===Array)for(var a=0,r=i.length;a<r;a++)n.push({name:o,value:i[a]});else null!=i&&n.push({name:this.name,value:i})}}),e.param(n)},e.fn.fieldValue=function(t){for(var n=[],o=0,i=this.length;o<i;o++){var a=this[o],r=e.fieldValue(a,t);null==r||r.constructor===Array&&!r.length||(r.constructor===Array?e.merge(n,r):n.push(r))}return n},e.fieldValue=function(t,n){var o=t.name,i=t.type,a=t.tagName.toLowerCase();if(void 0===n&&(n=!0),n&&(!o||t.disabled||"reset"===i||"button"===i||("checkbox"===i||"radio"===i)&&!t.checked||("submit"===i||"image"===i)&&t.form&&t.form.clk!==t||"select"===a&&-1===t.selectedIndex))return null;if("select"===a){var r=t.selectedIndex;if(r<0)return null;for(var s=[],l=t.options,c="select-one"===i,d=c?r+1:l.length,u=c?r:0;u<d;u++){var f=l[u];if(f.selected&&!f.disabled){var p=f.value;if(p||(p=f.attributes&&f.attributes.value&&!f.attributes.value.specified?f.text:f.value),c)return p;s.push(p)}}return s}return e(t).val().replace(/\r?\n/g,"\r\n")},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var n=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var o=this.type,i=this.tagName.toLowerCase();n.test(o)||"textarea"===i?this.value="":"checkbox"===o||"radio"===o?this.checked=!1:"select"===i?this.selectedIndex=-1:"file"===o?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(!0===t&&/hidden/.test(o)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){var t=e(this),n=this.tagName.toLowerCase();switch(n){case"input":this.checked=this.defaultChecked;case"textarea":return this.value=this.defaultValue,!0;case"option":case"optgroup":var o=t.parents("select");return o.length&&o[0].multiple?"option"===n?this.selected=this.defaultSelected:t.find("option").resetForm():o.resetForm(),!0;case"select":return t.find("option").each(function(e){if(this.selected=this.defaultSelected,this.defaultSelected&&!t[0].multiple)return t[0].selectedIndex=e,!1}),!0;case"label":var i=e(t.attr("for")),a=t.find("input,select,textarea");return i[0]&&a.unshift(i[0]),a.resetForm(),!0;case"form":return("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset(),!0;default:return t.find("form,input,label,select,textarea").resetForm(),!0}})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var n=this.type;if("checkbox"===n||"radio"===n)this.checked=t;else if("option"===this.tagName.toLowerCase()){var o=e(this).parent("select");t&&o[0]&&"select-one"===o[0].type&&o.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1}),window.hasOwnProperty("INVEN")&&$.isPlainObject(window.INVEN)||(window.INVEN={}),$("select.filter").change(function(){var e=$("body").hasClass("culture")?"?ct=":"?c=";window.location=e+$(this).val()});var ajaxWait=!1,listPage=1;function readMore(){if($this=$(".webzineListWrap section.list-article ul"),!ajaxWait&&"noMore"!=$this.data("listES")){ajaxWait=!0,$("#articleListReadMore").addClass("active");var e="";para=document.location.href.split("?")[1],e="undefined"==typeof para?"?page="+ ++listPage:"?page="+ ++listPage+"&"+para,$.ajax({url:e,dataType:"json",success:function(e){e.result&&$this.append(e.list),e.morePage&&e.result||($this.data("listES","noMore"),$("#articleListReadMore").addClass("hidden"))}}).done(function(){ajaxWait=!1}).fail(function(){alert("Posts could not be loaded."),ajaxWait=!1}).always(function(){$("#articleListReadMore").removeClass("active")})}}$('.webzineDetail a.jumplink[href^="#"]').on("click",function(e){e.preventDefault();var t=this.hash,n=$(t);$("html, body").stop().animate({scrollTop:n.offset().top},100,"swing",function(){window.location.hash=t})});var _url="",_msg="",_banner="";function createSnsBttns(e,t,n){_url=e,_msg=t,_banner=n}function sendSns(e){switch(_url||(_url=encodeURIComponent($('meta[property="og:url"]').attr("content")||location.href)),_msg||(_msg=encodeURIComponent($('meta[property="og:title"]').attr("content")||document.title)),_banner||"pinterest"!=e||(_banner=encodeURIComponent($('meta[property="og:image"]:first').attr("content"))),e){case"facebook":window.open("http://www.facebook.com/sharer/sharer.php?u="+_url,"sns","width=560,height=430");break;case"twitter":window.open("http://twitter.com/intent/tweet?text="+_msg+"&url="+_url,"sns","width=560,height=430");break;case"googleplus":window.open("https://plus.google.com/share?url="+_url,"sns","width=560,height=430");break;case"pinterest":window.open("https://www.pinterest.com/pin/create/button/?url="+_url+"&media="+_banner+"&description=","sns","width=754,height=613");break;case"reddit":window.open("http://reddit.com/submit?&url="+_url+"&title="+_msg,"sns","width=850,height=550")}}function comment_callback(e){var t=Number($(".mini_comment .fb-comments-count").text())+1,n=$("#IGCCS").find("> div.IGCCS-comment > p.IGCCS-comment_count > strong");n.length&&(t+=parseInt(n.text(),10)),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="_token"]').attr("content")}}),$.ajax({url:e.href,data:{cnt:t},dataType:"text",type:"POST",success:function(e){console.log(e),console.log("Comment Update Success"),$(".cmtz").removeClass("cmtz"),$(".fb-comments-count").text(t),$(".comments-count").text(t)}})}function sideMenu(){$("html").hasClass("openSideMenu")?$("html").removeClass("openSideMenu"):$("html").addClass("openSideMenu")}function headerNavToggle(e){$("#header-nav")[e?"addClass":"removeClass"]("open")}function headerSearchToggle(){var e=$("#header-search"),t=$("#header_right .btn-search, #header-right .btn-search");window.innerWidth<=600?e.slideToggle(120):e.animate({width:"toggle"},120),e.hasClass("cancel-icon")?(e.removeClass("cancel-icon"),t.removeClass("cancel")):(e.addClass("cancel-icon"),t.addClass("cancel"),e.find('input[type="search"]').focus())}function headerQuickLinkToggle(e){if(e){$(e).toggleClass("open");var t=$("#h-nav");"none"===t.css("display")&&t.css("display","")}$("#header-quicklink").toggleClass("open")}function headerQuickLinkToggleV2(){$("#header-quicklink").toggleClass("open"),$("#header-nav").toggleClass("open")}function headerUserInfoToggle(){var e=$("#header-user-info");e.find("li").length<=3&&$(window).width()>=480?location.href="/login":e.toggleClass("open")}function mobileSearch(){$(".mobile_search").hasClass("hidden")?$(".mobile_search").removeClass("hidden"):$(".mobile_search").addClass("hidden")}function igeSearchFormSubmit(){return!1}function showBadWordList(e,t){var n=e.parent();if(e.hasClass("loading-cursor"))return!1;n.children(".bad-word-list").length?n.toggleClass("active"):(e.addClass("loading-cursor"),$.get(t).done(function(e){var t='<div class="bad-word-list"><ul>',o="";for(type in e)e[type]&&(o+="<li><b>"+type.toUpperCase()+"</b>",e[type]=e[type].split("|").map(function(e){return"<li>"+e+"</li>"}).join(""),o+="<ol>"+e[type]+"</ol></li>");o||(o="<li><b>No entries</b></li>"),t+=o+"</ul></div>",n.append(t),setTimeout(function(){n.toggleClass("active")},0)}).always(function(){e.removeClass("loading-cursor")}))}function openWin(winName){var blnCookie=getCookie(winName),obj=eval("window."+winName);blnCookie||(obj.style.display="block")}function closeWin(winName,expiredays){setCookie(winName,"done",expiredays);var obj=eval("window."+winName);obj.style.display="none"}function getCookie(e){for(var t=e+"=",n=0;n<=document.cookie.length;){var o=n+t.length;if(document.cookie.substring(n,o)==t)return-1==(endOfCookie=document.cookie.indexOf(";",o))&&(endOfCookie=document.cookie.length),unescape(document.cookie.substring(o,endOfCookie));if(0==(n=document.cookie.indexOf(" ",n)+1))break}return""}function setCookie(e,t,n,o){var i=new Date;i.setDate(i.getDate()+n),document.cookie=e+"="+escape(t)+"; path="+(o||"/")+"; expires="+i.toGMTString()+";"}function clipCopy(e,t,n,o){var i=null,a=!1,r="",s=navigator.userAgent.match(/ipad|ipod|iphone/i);if($.isFunction(e)?r=e():(i=e,r=(a=$(i).is(":input"))?$(i).val():$(i).text()),r=$.trim(r)){var l=!("execCommand"in document);if($.isFunction(n)&&n(l),l)prompt(t,r);else{var c;if(i&&!a&&!s&&"getSelection"in window&&"createRange"in document){var d=getSelection();(f=document.createRange()).selectNodeContents(i),d.removeAllRanges(),d.addRange(f),c=function(){d.removeAllRanges()}}else if(i&&a&&!s)$(i).select(),c=function(){$(i).blur()};else{var u=$("<input>",{type:"text",value:r,style:"position:absolute;left:0;bottom:0;z-index:-1;opacity:0;"}).appendTo(document.body);if(s){var f,p=u.get(0);p.contentEditable=!0,p.readOnly=!1,(f=document.createRange()).selectNodeContents(p),(d=getSelection()).removeAllRanges(),d.addRange(f),p.setSelectionRange(0,999999)}else u.select();c=function(){u.remove()}}document.execCommand("copy"),c()}$.isFunction(o)&&o(l)}}function URLCopy(){clipCopy(function(){var e=location.pathname.split("/"),t="";return-1!==[1,2].indexOf(e.indexOf("articles"))?e.pop():t=location.search,("origin"in location?location.origin:location.protocol+"//"+location.host)+e.join("/")+t},"URL Copy: Ctrl+C, Enter",null,function(e){e||alert("The article's URL has been successfully copied to the clipboard")})}function formatDate(e){var t=e.split("-"),n=(e=new Date(t[0]+"/"+t[1]+"/"+t[2]),new Date(e)),o=n.getHours(),i=n.getDate();return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n.getMonth()]+" "+i+" - "+(o%12||12)+(o<12?"A":"P")+"M"}function igeDialog(e){var t,n="",o="";function i(e,t,n,o){return n?'<a class="ige-btn" href="'+n+'" data-type="'+e+'"'+(!0===o?" autofocus":"")+">"+t+"</a>":'<button class="ige-btn" type="button" data-type="'+e+'"'+(!0===o?" autofocus":"")+">"+t+"</button>"}n=$.isArray(e.contents)?'<ul class="contents'+(e.alignCenter?" center":"")+'"><li>'+e.contents.join("</li><li>")+"</li></ul>":'<p class="contents'+(e.alignCenter?" center":"")+'">'+e.contents+"</p>","button"in e?e.button.useOK?(o=i("ok",e.button.okText||"OK",e.button.okLink,!0),o+=i("cancel",e.button.cancelText||"Cancel",e.button.cancelLink)):o=i("close",e.button.text||"Close",e.button.link,!0):o=i("close","Close",null,!0),!e.type&&$(document.body).hasClass("darkmode")&&(e.type="dark"),t='\t\t<div id="ige-dialog" class="ige-dialog '+(e.type||"")+'">\t\t\t<div class="ige-dialog-box">\t\t\t\t<h2>'+e.title+' <button type="button" class="x">&times;</button></h2>\t\t\t'+n+'\t\t\t<div class="buttons">'+o+"</div>\t\t\t</div>\t\t</div>";var a=function(){$("#ige-dialog").remove(),$(document.body).removeClass("o-hidden"),$(document).off("keyup.igeDialog")},r=function(t){"listener"in e&&t in e.listener&&$.isFunction(e.listener[t])&&!1===e.listener[t](a)||a()};$(t).mouseup(function(e){e.stopPropagation()}).on("animationend",".ige-dialog-box",function(e){$(this).find("button[autofocus]").focus()}).find("button.x").click(r.bind(null,"close")).end().find("button.ige-btn").click(function(e){r($(this).attr("data-type"))}).end().appendTo(document.body),$(document.body).addClass("o-hidden"),$(document).off("keyup.igeDialog").on("keyup.igeDialog",function(e){27==e.which&&r("close")})}function loadService(e,t,n){if(!("js"in t&&$.isArray(t.js)&&t.js.length))return $.Deferred().reject("You must include the js file to load the service.").promise();if(e in window)return $.Deferred().resolve(window[e]).promise();if(e in loadService.loading)return loadService.loading[e];var o=[],i=[];for(var a in t)for(var r=0,s=t[a].length;r<s;r++)switch(a){case"css":var l=document.createElement("link");l.setAttribute("rel","stylesheet"),l.setAttribute("href",t[a][r]),o.push(l);break;case"js":var c=document.createElement("script");c.setAttribute("type","text/javascript"),c.setAttribute("src",t[a][r]),i.push(c)}var d=document.getElementsByTagName("head")[0];for(r=0,s=o.length;r<s;r++)d.appendChild(o[r]);var u=$.Deferred();if(!1===n){u=u.resolve(0);for(r=0,s=i.length;r<s;r++)u=u.then(function(e){return $.Deferred(function(t){i[e].onload=i[e].onreadystatechange=function(){this.onload=this.onreadystatechange=null,t.resolve(++e)},d.appendChild(i[e])}).promise()})}else{var f=[];for(r=0,s=i.length;r<s;r++)!function(e){var t=$.Deferred();i[e].onload=i[e].onreadystatechange=function(){t.resolve(),this.onload=this.onreadystatechange=null},f.push(t)}(r),d.appendChild(i[r]);u=$.when.apply(null,f)}return loadService.loading[e]=u.then(function(){return delete loadService.loading[e],window[e]}),loadService.loading[e]}$("#search_form, #search_page_form, #search_form_bottom").on("submit",function(e){var t=$(this).find('input[type="search"]'),n=$.trim(t.val()),o=$(".header-search");if(o.attr("data-request"))return!1;n.length<2?(igeDialog({title:"Alert",contents:"Please enter a search term at least two characters.",type:"warning",alignCenter:!0}),e.preventDefault()):o.attr("data-request",!0)}),$(function(){function e(e){$(".etc-games-news .gamens_tab li").removeClass("on").eq(e).addClass("on"),$(".etc-games-news .gamens_tab_mb option").attr("selected",!1).eq(e).attr("selected",!0).prop("selected",!0),$(".etc-games-news .gamens_wrap > .gamens_content").removeClass("on").eq(e).addClass("on")}$(".etc-games-news .top li").click(function(t){t.preventDefault(),e($(this).index())}).eq(0).click(),$(".etc-games-news .gamens_tab_mb").change(function(){e(this.selectedIndex)})}),$(function(){$(".etc-popular-news-side .popular_tab li").click(function(e){if("active"==this.className)return!1;e.preventDefault();var t=$(this).index();$(".etc-popular-news-side .popular_tab li.on").removeClass("on"),$(this).addClass("on"),$(".etc-popular-news-side .popular_wrap > .popular_content.on").removeClass("on"),$(".etc-popular-news-side .popular_wrap > .popular_content").eq(t).addClass("on")}).eq(0).click()}),$(function(){$(".etc-popular-news .popular_tab li").click(function(e){if("active"==this.className)return!1;e.preventDefault();var t=$(this).index();$(".etc-popular-news .popular_tab li.on").removeClass("on"),$(this).addClass("on"),$(".etc-popular-news .popular_wrap > .popular_content.on").removeClass("on"),$(".etc-popular-news .popular_wrap > .popular_content").eq(t).addClass("on")}).eq(0).click()}),$(function(){$("section.popular-link ul.popular_link li .mobile_view").click(function(e){$("section.popular-link ul.popular_link li .mobile_view").addClass("hidden"),$("section.popular-link ul.popular_link li").css("display","inline-block")})}),$(document).ready(function(){$("#igecAds").hasClass("igecAdWrap")&&openWin("igecAds"),$(".closePopAd").click(function(){$("#igecAds").hide()})}),loadService.loading={};var youtubeApi={init:!1,yt:null,dfd:$.Deferred(),load:function(e){this.init||(loadService("YT",{js:["https://www.youtube.com/iframe_api"]}),this.init=!0),this.dfd.done(e)}};function onYouTubeIframeAPIReady(){youtubeApi.yt=YT,youtubeApi.dfd.resolve()}var twitterApi={init:!1,twttr:null,dfd:$.Deferred(),load:function(e){if(!this.init){var t={_e:[],ready:function(e){t._e.push(e)}};t.ready(function(){twitterApi.twttr=twttr,twitterApi.dfd.resolve()}),window.twttr=t,loadService("_twttr",{js:["https://platform.twitter.com/widgets.js"]}),this.init=!0}this.dfd.done(e)}};function themeSwitch(e,t){var n=$(document.body),o=getCookie("themeType").trim();if(!e){var i=INVEN.THEMES.indexOf(o);e=INVEN.THEMES[!o||i<0?1:i===INVEN.THEMES.length-1?0:i+1]}INVEN.THEMES.indexOf(e)<0?console.log("no support theme : "+e):(o||setCookie("themeType",o="default"),o===e&&!0!==t||(n.removeClass(o).toggleClass("darkmode","darkmode"===e).triggerHandler("changeTheme",[e]),$("img.theme-switch-enable").each(function(){var t=this.getAttribute("data-theme-"+e);t&&(this.src=t)}),setCookie("themeType",e)))}INVEN.THEMES=["default","darkmode"],function(e){var t=e("#logout-form .darkmode-switch").length,n=e(document.body).hasClass("darkmode")?"darkmode":"default";e(function(e){var o=getCookie("themeType").trim()||"default";t&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?getCookie("themeType").trim()||themeSwitch("darkmode"):t&&o!=n&&themeSwitch(o,!0)}),t&&/(ipod|iphone|ipad)/i.test(navigator.userAgent||"")&&e(window).on("pageshow",function(e){var t=getCookie("themeType").trim()||"default";t!=n&&themeSwitch(t,!0)})}(jQuery),jQuery(function(e){var t,n=e(".has-hash-link a"),o={},i=e(window).height(),a=null,r=0;function s(t){a&&(clearTimeout(a),a=null),a=setTimeout(function(){i=e(window).height(),t.each(function(t,n){var i="#"+this.href.split("#")[1],a=e(i).closest("section");if(a.length){var s=a.offset().top;o[i]={top:Math.floor(s),height:Math.floor(a.outerHeight())},r=0==r?o[i].top:Math.min(r,o[i].top)}}),r=Math.ceil(r>i?r-i+i/2:r/3),a=null},10)}e(window).scroll(function(a){var s=e(this).scrollTop(),l=0,c=null;for(var d in o){var u=o[d].top-s,f=o[d].top+o[d].height-(s+i),p=o[d].height-(u<0?Math.abs(u):0)-(f>0?f:0);if(r<s&&p>0&&p<=i&&p>l&&(o[d].top,l=p,c=d),o[d].height==p)break}c?c!=t&&(n.filter('.active,[href$="'+c+'"]').toggleClass("active"),t=c):(n.removeClass("active"),t=null)}),(n=n.filter(function(){return-1!==this.href.indexOf("#")&&-1!==this.href.indexOf(location.pathname)})).length&&(n.addClass("hash-link-active"),e(window).resize(s.bind(null,n)),s(n))}),$(function(){var e=$("#esports_schedule"),t=$("#esports-series"),n=e.find(".esports-inner").attr("data-gamename");function o(e){var t=e.split(" "),n=t[0].split("-"),o=t[1].split(":");return new Date(n[0],n[1]-1,n[2],o[0],o[1],o[2]).getTime()}function i(){var t=o(moment.tz(new Date,"America/Los_Angeles").format("Y-MM-DD HH:mm:ss")),n=null,i=null;e.find(".content.item").each(function(){var e=$(this),a=o(e.find(".startdate").attr("data-date")),r=Number(t)-Number(a);r<0&&(r=Math.abs(r)),(!n||n>=r)&&(n=r,i=e)}),r.slideTo(i.closest(".content.item").index())}if(e.length>0){e.find(".esports-container").hasClass("hidden")&&e.find(".esports-container").removeClass("hidden");var a={slidesPerView:8,slidesPerGroup:8,allowSlidePrev:!1,allowSlideNext:!1,freeMode:!1,watchOverflow:!0,speed:150,pagination:{el:".scd_pagination",clickable:!0},breakpoints:{340:{slidesPerView:2,slidesPerGroup:2},620:{slidesPerView:3,slidesPerGroup:3},720:{slidesPerView:4,slidesPerGroup:4},860:{slidesPerView:5,slidesPerGroup:5},1024:{slidesPerView:6,slidesPerGroup:6}}},r=new Swiper(".esports-container",a);e.find(".item div.series").on("click",function(){t.toggleClass("open")}),t.find("li > a").on("click",function(){if(e.hasClass("ajax"))return!1;var o=$(this),s=o.parent("li"),l=s.attr("data-series-idx"),c=t.attr("data-game-idx");t.find("li > a").removeClass("selected"),s.children("a").addClass("selected"),t.removeClass("open"),e.find(".content").addClass("hidden"),e.find(".scd_pagination").addClass("hidden"),e.find(".esports-container").append('<div class="loader"></div>'),e.addClass("ajax"),$.ajax({url:"/esports/schedule_read/"+c+"/"+l,type:"GET",dataType:"JSON"}).done(function(t){e.find("div.item.title .series span.teamname").text(o.text()),e.find(".content").each(function(o){var i=$(this).children("a"),a=i.find("span.startdate"),r=i.find("span.team"),s=i.find("span.team-a"),l=i.find("span.team-b");if(t.schedule[o]){var c=t.schedule[o],d=i.parent("div.content").hasClass("item"),u=c.idx,f="javascript:;";if(d||i.parent("div.content").addClass("item swiper-slide"),void 0!==c.team_info)var p=JSON.parse(c.team_info),h=p[c.team_a],g=p[c.team_b];else h=[],g=[];var m=c.team_a_abbr?c.team_a_abbr:"-",v=c.team_b_abbr?c.team_b_abbr:"-",y=h.steamlogo?h.steamlogo:"https://static.invenglobal.com/img/common/schedule_team_default.png",b=g.steamlogo?g.steamlogo:"https://static.invenglobal.com/img/common/schedule_team_default.png";if(c.total_result)var w=c.total_result.split("|");if(c.startdate){var x=formatDate(c.startdate);a.text(x),i.find(".startdate").attr("data-date",c.startdate)}else a.text(""),i.find(".startdate").attr("data-date",0);if(s.find("img").attr("src",y).removeClass("hidden").siblings(".team-abbreviation").text(m).siblings(".score").text(void 0!==w?w[0]:"-"),l.find("img").attr("src",b).removeClass("hidden").siblings(".team-abbreviation").text(v).siblings(".score").text(void 0!==w?w[1]:"-"),i.parent(".content").attr("data-idx",u),"Y"==c.has_vod){var _=c.series_title+"-"+c.tournament_title+"-"+c.round;f="/esports/"+n+"/vod/"+u+"-"+_.replace(/ /g,"-").toLowerCase(),i.removeClass("nolink")}else i.addClass("nolink");i.attr("href",f)}else i.parent("div.content").removeClass("item swiper-slide").removeAttr("data-idx"),i.attr("href","javascript:;").addClass("nolink"),a.text(""),r.find("img").addClass("hidden"),r.find(".team-abbreviation").text(""),r.find(".score").text("");e.find(".content").removeClass("hidden")})}).fail(function(e,t,n){alert("code:"+e.status+"\nerror:"+n)}).always(function(t){e.removeClass("ajax"),e.find("div.loader").remove(),e.find(".scd_pagination").removeClass("hidden"),r.destroy(),r=new Swiper(".esports-container",a),i()})}),i()}}),$(function(){var e=window,t=$(document.body);if(t.is(".layout-v2, .ige-page")){var n=$("#h-nav-icon").click(function(){$(this).toggleClass("open"),t.toggleClass("header-menu-open"),$(document.documentElement).toggleClass("no-scroll"),$("#h-nav").slideToggle(300)}),o=function(e){e.matches?($("#h-nav").removeAttr("style").find(".hash-link-active").off("click.hash_link"),$("#h-nav-icon").removeClass("open"),t.removeClass("header-menu-open"),$(document.documentElement).removeClass("no-scroll")):$("#h-nav .hash-link-active").on("click.hash_link",function(e){n.trigger("click")})},i=e.matchMedia("(min-width: 871px)");o(i),i.addListener(o),$("#header-center").on("click",function(e){t.is(".header-menu-open")&&e.target&&"header-center"===e.target.id&&n.trigger("click")}),$("#h-nav ul.menus li.more > a").on({click:function(e){e.preventDefault()}})}}),$(function(){var e=$(".layout-v2 .sns-list");if(e.length){var t=$(window),n=$(".layout-v2 .container"),o=$(".layout-v2 header"),i=window.matchMedia("(max-width: 1200px)");function a(){var i=t.scrollTop(),a=o.height()+15,r=n.offset().top;i>=r-5?e.stop().animate({top:i+(a-r-20)},400):i<=20&&e.stop().animate({top:i-20+"px"},400)}function r(e){e.matches?t.off("scroll",a):t.on("scroll",a)}r(i),i.addListener(r)}}),$(function(){void 0!==window.admiral&&(window.admiral("after","measure.detected",function(e){e.subscribed||getCookie("adr_ige")&&setCookie("adr_ige","",-1)}),window.admiral("after","transact.subscribed",function(){getCookie("adr_ige")||setCookie("adr_ige",1,14)}),window.admiral("after","transact.loggedOut",function(){getCookie("adr_ige")&&(setCookie("adr_ige","",-1),location.reload())}))}),$("body > main > div.container").on("click","section.tabs .nav a[data-tab-id]",function(){var e,t=$(this),n=t.parent(),o=$("body > main > div.container").find("ul.tab-content > li.tab-content");try{n.is(".active")||(e=n.parent().find("li.active").removeClass("active").map(function(){"use strict";return"."+$(this).find("> a").attr("data-tab-id")}),o.filter(e.toArray().join(",")).removeClass("show show-fi"),n.addClass("active"),o.filter("."+this.getAttribute("data-tab-id")).addClass("show").filter(":eq(0)").addClass("show-first"))}catch(e){console.log(e.message)}finally{t=null,n=null,e=null,o=null}}),window.hasOwnProperty("INVEN")&&$.isPlainObject(window.INVEN)||(window.INVEN={}),INVEN.hasOwnProperty("Tooltip")&&INVEN.Tooltip.constructor.prototype.hasOwnProperty("__provider__")&&"INVEN"===INVEN.Tooltip.constructor.prototype.__provider__||(INVEN.Tooltip=function(e){var t=!1,n={x:0,y:0,originX:0,originY:0,offsetX:10,offsetY:10,windowHeight:0,windowWidth:0},o={ieFIX:!!window.navigator.userAgent.match(/((?:MSIE\s?((?:10)|(?:[1-9])))|(?:Trident\/7\.0;.+?rv:11\.0))/i),doNotDisplay:!1,fromTouch:!1,currernt:null,shown:!1,layerDiv:null,collection:{},setup:function(){if(!this.layerDiv)if(this.layerDiv=e('<div id="inven-tooltip-layer-pane"></div>'),"INVEN_TOOLTIP_TARGET_PANE"in window)if(e("body").length)this.layerDiv.appendTo("body");else{var t=this.layerDiv;e(document).ready(function(){"use strict";t.appendTo("body")})}else this.layerDiv.appendTo("body")},checkID:function(t){return"string"==typeof t&&0!=(t=e.trim(t)).length&&t},exists:function(e){return this.collection.hasOwnProperty(e)},add:function(t,a){var r,s,l,c;try{if((t=this.checkID(t))&&!this.exists(t)){if((r=e("#"+t)).length)return this.collection[t]=r;if(this.collection[t]=e("<div/>").attr("id",t).addClass("inven-tooltip-layer loading").html('<span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span>').appendTo(this.layerDiv),(s=t.split("-"))&&s.length>1)if(2==s.length?(l=s[0],d=s[1],this.collection[t].addClass("inven-tooltip-layer-"+l)):(l=s[0],c=s[1],d=s[2],this.collection[t].addClass("inven-tooltip-layer-"+l+"-"+c)),a&&this.collection[t].addClass(a),"_self_"===l){var d=e("#"+t.replace(/^_self_\-/,""));if(!(r=o.get(t)))return;r.removeClass("loading").html(d.length?d[0].outerHTML:"").find("> *").removeAttr("id"),o.shown&&o.currernt.attr("id")==t&&i(n.originX,n.originY,t)}else e.ajax({type:"GET",dataType:"json",url:"/"+l+(c?"/"+c:"")+"/layer/"+d}).done(function(e){var t;try{if(!(t=o.get(e.id)))return;t.removeClass("loading").html(e.data),o.shown&&o.currernt.attr("id")==e.id&&i(n.originX,n.originY,e.id)}catch(e){console.log(e.message)}finally{t=null}}).fail(function(){var e;(e=o.get(t))&&e.removeClass("loading")});else this.collection[t].text("No data")}return this.collection[t]||!1}catch(e){return!1}finally{r=null,s=null,l=null,c=null,d=null}},remove:function(e){return!(!(e=this.checkID(e))||!this.exists(e))&&(this.collection[e].remove(),this.collection[e]=null,delete this.collection[e],!0)},get:function(e,t,n){return(e=this.checkID(e))&&this.exists(e)?this.collection[e]:!!t&&this.add(e,n)},setCurrent:function(e,t){var n=this.get(e,!0,t);return!1!==n&&(this.currernt=n,!0)},getTarget:function(e){return"string"==typeof e?this.get(e):"object"==typeof e.currentTarget&&"function"==typeof e.currentTarget.getAttribute?this.get(e.currentTarget.getAttribute("data-tooltip-code"),!0,e.currentTarget.getAttribute("data-add-class")):(this.currernt||this.setCurrent(e.currentTarget.getAttribute("data-tooltip-code"),e.currentTarget.getAttribute("data-add-class")),this.currernt)},show:function(e){var t;try{if(o.doNotDisplay||o.fromTouch)return!0;if(!1===(t=o.getTarget(e)))return!0;"object"==typeof e&&"touchstart"===e.type?(o.fromTouch=!0,o.shown=!1,o.hide(e)):(t.show(),o.shown=!0,o.move(t.id||t.attr("id")))}catch(e){return!1}finally{t=null}},hide:function(e){var t;try{if(o.doNotDisplay||o.fromTouch)return!0;if(!1===(t=o.getTarget(e)))return!1;t.hide(),o.shown=!1,o.fromTouch=!1}catch(e){return!1}finally{t=null}},move:function(e){var t;try{return!(!o.shown||!1===(t=o.getTarget(e))&&!(t=o.currernt))&&(t.css({left:n.x,top:n.y}),!0)}catch(e){return!1}finally{t=null}},setLayerOffset:function(e,t){if(!isNaN(e=parseInt(e,10))||!isNaN(t=parseInt(t,10)))return!1;n.offsetX=e,n.offsetY=t}},i=function(t,i,a){if("string"==typeof a&&a.length&&o.setCurrent(a),!o.currernt)return!1;var r=t+n.offsetX,s=i+n.offsetY,l=e(window).scrollLeft(),c=e(window).scrollTop(),d=n.windowWidth,u=n.windowHeight,f=o.currernt.outerWidth(),p=o.currernt.outerHeight();r+f>d+l&&(r=Math.max(r-n.offsetX-f,l)),s+p>u+c&&(s=Math.max(s-1.5*n.offsetY-p,c)),n.x=r,n.y=s,n.originX=t,n.originY=i,o.move(a)},a=function(){(window.hasOwnProperty("sessionStorage")||"sessionStorage"in window)&&(o.setup(),t||(e(document).ready(function(){var a=e("main > div.container");"INVEN_TOOLTIP_TARGET_PANE"in window&&(a=e(window.INVEN_TOOLTIP_TARGET_PANE)),a.on("mouseover touchstart","a[data-tooltip-code],button[data-tooltip-code],span[data-tooltip-code],img[data-tooltip-code]",o.show).on("mouseout","a[data-tooltip-code],button[data-tooltip-code],span[data-tooltip-code],img[data-tooltip-code]",function(e){!o.doNotDisplay&&o.shown&&o.hide(e)}).on("mousemove","a[data-tooltip-code],button[data-tooltip-code],span[data-tooltip-code],img[data-tooltip-code]",function(e){t&&!o.doNotDisplay&&o.shown&&i(e.pageX,e.pageY,this.getAttribute("data-tooltip-code"))}),e(window).on("resize",function(){var t=e(window);n.windowWidth=t.width(),n.windowHeight=t.height(),o.doNotDisplay=!!(n.windowWidth<720),t=null}).trigger("resize")}),t=!0))};return e.extend(a.prototype,{__provider__:"INVEN",showLayer:function(e){o.show(e)},hideLayer:function(e){o.hide(e)},moveLayer:function(t){var n="",o=0,a=0;if(!(t.length<2)){if(2==t.length)o=parseInt(t[0],10),a=parseInt(t[1],10);else{if(3!=t.length)return;n=e.trim(t[0]),o=parseInt(t[1],10),a=parseInt(t[2],10)}isNaN(o)||isNaN(a)||i(o,a,n)}}}),new a}(jQuery));var INVEN=window.INVEN||{};INVEN.Clipboard=new function(){var e=function(e){return"object"==typeof e.clipboardData&&"function"==typeof e.clipboardData.clearData&&"function"==typeof e.clipboardData.setData},t=function(e){switch(typeof e){case"string":return $.trim(e);case"number":return String(e);default:return""}},n=null,o=null,i=null,a={x:0,y:0,obj:null,click:null};if(e(window))this.copy=function(e,o){if(u(window.event)){n="function"==typeof o?o:null;var i=t(e),a=!1;try{window.clipboardData.clearData(),a=window.clipboardData.setData("text",i)}catch(e){a=!1}f(a,i)}};else{var r=null,s=null,l=!0,c=function(){var e=r;return r=null,$(document).off("copy.InvenClipboard"),s&&(clearTimeout(s),s=null),e},d=function(t){var n=c();if(null!==n){t.preventDefault();var o=!1;if(e(t.originalEvent))try{t.originalEvent.clipboardData.clearData(),t.originalEvent.clipboardData.setData("text/plain",n),o=!0}catch(e){if(l)return l=!1,!1}f(o,n)}};this.copy=function(e,o){null===r&&u(window.event)&&(c(),n="function"==typeof o?o:null,r=t(e),document.queryCommandSupported("copy")?($(document).on("copy.InvenClipboard",d),s=setTimeout(function(){null!==r&&f(!1,c())},100),document.execCommand("copy")):f(!1,r))}}var u=function(e){return!("object"==typeof e&&e&&"click"==e.type&&e.srcElement&&(a.click=$(e.srcElement),o&&o._obj&&o._obj[0]===e.srcElement))||(h(null),!1)},f=function(e,t){if(t.length>0){if("function"==typeof n)try{if(!1===n(e,t))return}catch(e){}e?g("It's copied to clipboard."):h(t)}};$(document).on("mouseup.InvenClipboard touchend.InvenClipboard",function(e){a.x=e.pageX,a.y=e.pageY,a.obj=e.target&&"HTML"!=e.target.tagName&&"BODY"!=e.target.tagName?$(e.target):null});var p=function(){if("string"!=typeof navigator.platform||"Win32"!=navigator.platform){var e=String(navigator.userAgent||"");if(/android/i.test(e))return"android";if(/(ipod|iphone|ipad)/i.test(e))return"ios";if(/mobile/i.test(e))return!0}return!1}(),h=function(e){if(e){if(!o||0==$("#InvenClipboardCopyBox").length){var t=function(e){return e.preventDefault(),!1};(o=$('<div id="InvenClipboardCopyBox" style="display: block; float: none; clear: both; position: absolute; z-index: 10; width: 240px; padding: 5px; margin: 0px; overflow: hidden; border: 1px solid #aaa; border-radius: 3px; box-sizing: content-box; box-shadow: rgba(0, 0, 0, 0.2) 0px 4px 8px 0px, rgba(0, 0, 0, 0.188235) 0px 6px 20px 0px; color: #333; font-size: 14px; background: #f0f0f0; background-image: -webkit-gradient(linear,left top,left bottom,from(#e0e0e0),to(#f0f0f0)); background-image: -moz-linear-gradient(top,#e0e0e0 0%,#f0f0f0 100%); background-image: -o-linear-gradient(top,#e0e0e0 0%,#f0f0f0 100%); background-image: -ms-linear-gradient(top,#e0e0e0 0%,#f0f0f0 100%); background-image: linear-gradient(to bottom,#e0e0e0 0%,#f0f0f0 100%); font-family: gulim, 굴림; font-weight: normal; font-style: normal;"></div>').appendTo("body").on("click",function(){o._value.blur().focus()}))._text=$('<div style="display:block; float: none; clear: both; font-weight: bold; margin-bottom: 4px;"></div>').appendTo(o).on("selectstart dragstart",t),$('<span style="display:block; position: absolute; top: 5px; right: 5px; cursor: pointer;">Ⅹ</span>').appendTo(o).on("click",function(){h(null)}).on("selectstart dragstart",t);var n=$('<div style="display: block; float: none; clear: both; width: 100%; height: 30px; box-sizing: border-box; border: 1px solid #aaa; overflow: hidden; background-color: #fff; color: #333; font-size: 12px;"></div>').appendTo(o),i="display: block; float: none; clear: both; width: 100%; height: 100%; line-height: 30px; box-sizing: border-box; margin: 0px; padding: 0px 4px; background-color: #fff; color: #333; font-size: 12px; font-family: gulim, 굴림; font-weight: normal; font-style: normal; text-decoration: none; overflow: hidden;";o._value=$('<textarea readonly style="'+i+' resize: none; border: none; outline: none; -webkit-box-shadow: none; -moz-box-shadow: none; box-shadow: none; "></textarea>').appendTo(n).on("focus focusin",function(){o._value.is(":visible")&&(o._value[0].setSelectionRange?o._value[0].setSelectionRange(0,o._value.val().length):o._value.select())}).on("click",function(e){o._value.is(":visible")&&o._value.blur().focus()}),o._url=$('<a style="'+i+'"></a>').appendTo(n).on("click selectstart dragstart",t)}$("html").off("mousedown.InvenClipboard").on("mousedown.InvenClipboard",function(e){o&&e.target!==o[0]&&0==o.find(e.target).length&&(o._obj&&o._obj[0]==e.target||h(null))}),!/^http[s]?:\/\/[^\r\n\s\t]+$/.test(e)||"android"!=p&&"ios"!=p?(p?o._text.html("Please copy contents below."):o._text.html("Please copy contents below with<br>push 'Cntl+C' on a keyboard"),o._value.blur().val(e).css("display","block").focus().off("copy.InvenClipboard").on("copy.InvenClipboard",function(e){"number"==typeof this.selectionStart&&0===Math.min(this.selectionStart,this.selectionEnd)&&Math.max(this.selectionStart,this.selectionEnd)===this.value.length&&(o._value.off("copy.InvenClipboard"),h(null),setTimeout(function(){g("It's copied to clipboard.")},1))}),o._url.css("display","none")):(o._text.html("Please push the contents<br>while you can see the list menu<br>and select copy button on it."),o._value.val(e).css("display","none").off("copy.InvenClipboard"),o._url.attr("href",e).text(e).css("display","block")),o.css({display:"block",left:"-1000px",top:"-1000px"})._obj=a.obj;var r=function(e,t,n,o,i,a){e="number"!=typeof e||isNaN(e)?0:e,t="number"!=typeof t||isNaN(t)?0:t,n="number"!=typeof n||isNaN(n)?0:n,o="number"!=typeof o||isNaN(o)?0:o,i="number"!=typeof i||isNaN(i)?5:i,a="number"!=typeof a||isNaN(a)?5:a;var r=$(window),s=$("body"),l=r.width(),c=r.height(),d=e+i,u=t+a;return n>=200&&l<415?d=Math.max(l/2-n/2,0)+s[0].scrollLeft:d+n>l+s[0].scrollLeft&&(d=Math.max(e-n,s[0].scrollLeft)),u+o>c+s[0].scrollTop&&(u=Math.max(u-1.5*a-o,s[0].scrollTop))==s[0].scrollTop&&o>=300&&l<415&&(u=Math.max(c/2-o/2,0)+s[0].scrollTop),{left:Math.floor(d),top:Math.floor(u)}}(a.x,a.y,o.outerWidth(),o.outerHeight(),5,5);o.css({left:r.left+"px",top:r.top+"px"})}else o&&(o._obj=null,o._value[0].setSelectionRange&&o._value[0].setSelectionRange(0,0),o.css("display","none")._value.off("copy.InvenClipboard"),$("html").off("mousedown.InvenClipboard"))},g=function(e){if(e=String(e),0!=$.trim(e).length){if(null===i){i=$('<div style="position: fixed; z-index: 10000; left: 50%; top: 50%; -webkit-transform: translate(-50%, -50%); -ms-transform: translate(-50%, -50%); -o-transform: translate(-50%, -50%); -moz-transform: translate(-50%, -50%); transform: translate(-50%, -50%); display: none; float: none; clear: both; background-color: #000; background-color: rgba(0, 0, 0, 0.75); color: #fff; border-radius: 8px; padding: 12px 8px; font-size: 14px; text-align: center;"></div>');try{var t=i[0].style;"fixed"==t.position&&(t.transformProperty||t.WebkitTransform||t.MozTransform||t.OTransform||t.msTransform)?i.appendTo("body"):i=!1}catch(e){i=!1}}!1===i?alert(e):i.text(e).css("display","block").stop().css("opacity",1).delay(2e3).fadeOut(1e3)}}},jQuery(function(e){var t=e(".ige-poll-embed[data-idx]"),n=getCookie("XSRF-TOKEN"),o={vote:{},result:{}},i=function(){var t=e(".ige-poll-vote:not(.result,#poll-preview-part)").each(function(){var t=e(this),o=t.attr("data-idx"),i=+t.attr("data-progress");if(!+t.attr("data-login")&&i)t.find("label,:input").click(function(n){if(e(this).is('[data-action="results"]')){var i=e(this);if(i.filter(".result-action").removeClass("result-action"),i.addClass("result-action"),i.hasClass("result-action"))return r(o,t),!1}return igeDialog({type:"",title:"Confirm",contents:"You need to log in to use this function.<br>Would you like to log in?",alignCenter:!0,button:{useOK:!0,okText:"Yes",okLink:"/login",cancelText:"No"}}),!1});else{var s=+t.find("h3").attr("data-num"),l=t.find('[name="choice[]"]'),c=t.find("#ige-poll-choice"+o+"-0"),d=t.find('[name="opinion"]'),u=t.find('button[data-action="vote"]'),f=t.find('button[data-action="results"]'),p={answers:{select:[],input:{checked:!1,value:""}},get:function(){return{select:l.filter(":checked").map(function(){return this.value}).get(),input:{checked:c.is(":checked"),value:d.val()}}},update:function(){this.answers=this.get()},check:function(){var t=this.get();if(this.answers.select.length!=t.select.length)return!0;var n=this.answers.select;return!!t.select.filter(function(e){return-1===n.indexOf(e)}).length||(this.answers.input.checked!=t.input.checked||e.trim(this.answers.input.value)!=e.trim(t.input.value))}},h=function(){return!this.disabled&&(this.blur(),l.filter(":checked").length?c.is(":checked")&&!e.trim(d.val())?(igeDialog({title:"Poll",contents:"Please enter your opinion.",alignCenter:!0,listener:{close:function(){d.focus()}}}),!1):p.check()?(this.disabled=!0,void e.ajax({url:"/poll/vote/"+o,type:"POST",headers:{"X-XSRF-TOKEN":n},data:t.find(":input").serializeArray()}).done(function(e){p.update(),e?(f.removeClass("hidden"),a(o,t,e)):igeDialog({title:"Poll",contents:"Voted successfully.",alignCenter:!0})}).fail(function(e){igeDialog({type:"warning",title:"Poll",contents:"responseJSON"in e?"Wrong Access":e.responseText,alignCenter:!0})}).always(e.proxy(function(){this.disabled=!1},this))):(igeDialog({type:"warning",title:"Poll",contents:"The votes are the same.",alignCenter:!0}),!1):(igeDialog({title:"Poll",contents:i?"Please select an answer.":"The poll is closed. Thank you.",alignCenter:!0}),!1))};p.update(),i?(t.find(".answer label").click(function(t){var n=e("#"+e(this).attr("for")).is(":checked");return n||1!=s?n||l.filter(":checked").length<s:(l.filter(":checked").prop("checked",!1),!0)}),l.change(function(e){this.checked&&l.not(c).filter(":checked").length>=s&&d.prop("readOnly",!0)}),c.change(function(e){d.prop("readOnly",!this.checked),this.checked&&d.focus()}),d.on("mousedown touchstart",function(e){this.readOnly&&(l.filter(":checked").prop("checked",s>1),l.filter(":checked").length<s&&(this.readOnly=!1,c.prop("checked",!0)))}),d.keyup(function(e){13==e.which&&h.bind(u.get(0))()}),u.click(h)):t.find(".answer label").add(d).click(function(n){var o=e("<p/>",{class:"ige-poll-tooltip",text:"The poll is already closed."}).css({top:n.pageY+10,left:t.offset().left,width:t.width()}).one("transitionend",function(e){o.css({opacity:0,"transition-delay":"0.6s"}),setTimeout(function(){o.one("transitionend",function(e){o.remove()})},10)}).appendTo(document.body);o.css({top:n.pageY-o.height(),opacity:1}),setTimeout(function(){o.remove()},2500)}),f.click(function(){r(o,t)})}});d(l,t)},a=function(t,n,i){o.result[t]=e(i).insertBefore(n).find('button[data-action="return"]').one("click",function(n){e(this).closest(".ige-poll-vote.result").before(o.vote[t]).detach()}).end(),o.vote[t]=n.detach(),"string"==typeof i&&s(o.result[t])},r=function(t,i){if(t in o.result)return a(t,i,o.result[t]),!1;var r=i.find('button[data-action="results"]');if(r.is(":disabled"))return!1;r.prop("disabled",!0),e.ajax({url:"/poll/result/"+t,type:"GET",headers:{"X-XSRF-TOKEN":n}}).done(function(e){e&&a(t,i,e)}).fail(function(e){igeDialog({type:"warning",title:"Poll",contents:"responseJSON"in e?"Wrong Access":e.responseText,alignCenter:!0})}).always(function(){r.prop("disabled",!1)})},s=function(t){var n=t.attr("data-index"),o=e("#poll-select-"+n,t),i=e(".etc-answer-"+n,t);o.change(function(){var t=e(this).val();o.closest(".answer").find(".choice > li").each(function(){"count"==t?e(this).css("order","0"):e(this).css("order",e(this).attr("item-order"))})}),i.click(function(){e(this).toggleClass("active")}),d(l,t)},l=window.matchMedia("(max-width: 599px)");l.addListener(function(e){d(l=e)});var c=e(),d=function(t,n){if(n="object"==typeof n?n:e(".ige-poll-vote"),t.matches){n.filter(".popup-installed").removeClass(".popup-installed").find(".choice a").off("click"),c.remove(),c=e(),e(document).off("keyup.pollPopup")}else{if(!c.length){c=e("<div/>",{class:"ige-poll-vote-popup hidden",html:'\t\t\t\t\t\t\t<div class="wrap">\t\t\t\t\t\t\t\t<div class="box">\t\t\t\t\t\t\t\t\t<img src="https://static.invenglobal.com/img/common/loading.gif" alt="">\t\t\t\t\t\t\t\t\t<button type="button">&times;</button>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t</div>'}).appendTo(document.body);var o=function(){c.addClass("hidden").find("img").attr("src","https://static.invenglobal.com/img/common/loading.gif"),e(document.body).removeClass("o-hidden")};e(c,c.find("button")).click(o),c.find("img").click(function(e){return!1}),e(document).off("keyup.pollPopup").on("keyup.pollPopup",function(e){27!=e.which||c.hasClass("hidden")||o()})}n.not(".popup-installed").addClass("popup-installed").find(".choice a").click(function(t){return e("<img/>",{src:this.href}).on("load",function(e){c.find("img").replaceWith(this)}),c.removeClass("hidden"),e(document.body).addClass("o-hidden"),!1})}};t.length?e.get("/poll/view",{sidx:t.map(function(){return e(this).attr("data-idx")}).get()}).done(function(n){t.each(function(){e(this).replaceWith(n[e(this).attr("data-idx")]||"")}),e(".ige-poll-vote.result").each(function(){s(e(this))}),i()}):e(".ige-poll-vote:not(.result)").length?i():e(".ige-poll-vote.result").length&&e(".ige-poll-vote.result").each(function(){s(e(this))})}),window.hasOwnProperty("INVEN")&&$.isPlainObject(window.INVEN)||(window.INVEN={}),INVEN.hasOwnProperty("GIF")&&"object"==typeof INVEN.IGCCS&&INVEN.GIF.constructor!==Object&&INVEN.GIF.constructor.prototype.hasOwnProperty("__provider__")&&"INVEN"===INVEN.GIF.constructor.prototype.__provider__||(INVEN.GIF={}),function(e){var t=!1,n=1e3,o=!1,i=e.noop,a=!1,r={ANON_ID:"",API_KEY:"4A6380W2CCUU",LOCALE:"&locale=en_US",LIMIT:30,OFFSET:0,TYPE:"trend",NEXT:{trend:null,search:null},KEYWORD:"",PRE_KEYWORD:"",PANE_OPEN:!1,PROCESSING:!1,CACHE:{expire:36e5,data:{trend_search:null}}},s={list_mp4:!1,console:!0,video:!0,autoplay:!0,sessionStorage:!(!window.hasOwnProperty("sessionStorage")||"object"!=typeof window.sessionStorage)},l={displayedItems:{trend:{},search:{}},cache:function(t,n){if("object"==typeof n&&n.hasOwnProperty("results")){c.section[t].removeClass("prepare");var o="trend"===t?c.list.trendingGif:c.list.search,i=/^(?:(?:https?:)?\/\/)?media\.tenor\.com\/(?:[^\/]+)\/([a-z0-9]+)(\/.+)$/i,a=o.width(),s={left:o.filter(":eq(0)"),right:o.filter(":eq(1)")};r.NEXT[t]=n.hasOwnProperty("next")&&n.next>0?n.next:null,e.each(n.results,function(n,o){var r,c,d=o.media[0].nanogif,f=d.dims[0]/a,p=s.left.height()>s.right.height()?s.right:s.left,h=d.dims[0]/f,g=d.dims[1]/f,m=p.is(".col-1")?"left":"right",v=l[t][m],y=p.height(),b=e("<li/>",{"data-id":o.id,"data-width":d.dims[0],"data-height":d.dims[1]});e("<figure/>",{"data-url":o.media[0].gif.url,"data-poster":o.media[0].mp4.preview,"data-mp4":o.media[0].mp4.url,"data-gif":o.media[0].gif.url,"data-thumb":o.media[0].gif.preview,"data-mini-thumb":o.media[0].nanogif.preview,"data-image-set":"!tenor!"+o.id+"!"+[o.media[0].mp4.preview.replace(i,"$1$2"),o.media[0].mp4.url.replace(i,"$1"),o.media[0].gif.url.replace(i,"$1"),o.media[0].gif.preview.replace(i,"$1$2"),o.media[0].mp4.size,o.media[0].gif.size].join("|")}).css("opacity",0).appendTo(b),r=y-y%100,v.hasOwnProperty(r)||(v[r]=[]),c={element:b,inject:!1,init:!1,mp4:'<video preload="auto" autoplay loop muted playsinline poster="'+o.media[0].nanogif.preview+'" style="width: 100%; height: auto"><source src="'+o.media[0].mp4.url+'" type="video/mp4"></video>',img:'<img src="'+o.media[0].nanogif.preview+'" alt="" style="width: 100%; height: auto;">',gif:'<img src="'+d.url+'" alt="" style="width: 100%; height: auto;">'},v[r].push(c),b.attr("data-pane",m).attr("data-pos",r).attr("data-pidx",v[r].length).attr("data-bg-color",u[Math.floor(64*Math.random())]).css({top:y+"px",width:h+"px",height:g+"px",backgroundColor:b.attr("data-bg-color")}),p.css({height:y+g+15+"px"}),l.itemShow(t)})}},prepareNewSearch:function(){var e,t;for(e in c.list.search.height(0),c.scroll.scrolls.find("ul.term-relate").scrollLeft(0),p.vars.search_scroll.relate.scrollLeft=0,c.section.search.addClass("prepare"),l.displayedItems.search)(t=l.displayedItems.search[e])&&(t.inject=!1,t.element.stop().remove().css("background-color",t.element.attr("data-bg-color")).children("figure").css("opacity",0));l.displayedItems.search={},l.search={left:{},right:{}}},itemShow:function(e){var o,i,a,r,d,u,f,p,h,g="trend"===e?c.section.trend:c.section.search,m="trend"===e?c.list.trendingGif:c.list.search,v={left:m.filter("ul:eq(0)"),right:m.filter("ul:eq(1)")},y=g.scrollTop()-g.scrollTop()%100,b=g.height()/2,w=["left","right"],x=y-b-n,_=y+b+n,C="";for(a in x<0&&(x=0),x-=x%100,_+=100-_%100,m.find("li").each(function(){var t,n=parseInt(this.getAttribute("data-pos"),10),o=parseInt(this.getAttribute("data-pidx"),10)-1,i=this.getAttribute("data-id");(n<x||n>_)&&((t=l[e][this.getAttribute("data-pane")][n][o]).element.remove().css("background-color",t.element.attr("data-bg-color")).children("figure").stop().css("opacity",0),t.inject=!1,l.displayedItems[e].hasOwnProperty(i)&&"object"==typeof l.displayedItems[e][i]&&delete l.displayedItems[e][i])}),w)for(C=w[a],r=x;r<=_;r+=100)if(d=l[e][C][r])for(f=d.length,u=0;u<f;u++)d[u].inject||(o=v[C],p=(i=d[u]).element.attr("data-id"),i.init||(h=i.element.find("figure"),t?h.html(s.autoplay?s.list_mp4?i.mp4:i.gif:i.img):h.html(s.list_mp4?i.mp4:s.autoplay?i.gif:i.img),i.init=!0),i.inject=!0,i.element.appendTo(o).find("video").each(function(){this.play()}),i.element.children("figure").animate({opacity:1},1e3,function(){this.parentNode.style.backgroundColor="transparent"}),l.displayedItems[e].hasOwnProperty(p)||"object"==typeof l.displayedItems[e][p]||(l.displayedItems[e][p]=i))},recalcPos:function(e){var t,n,o,i,a,r,s,d,u,f,p,h,g,m,v,y,b,w,x,_,C={},k=["left","right"];if(l.hasOwnProperty(e)&&(o=l[e])&&"object"==typeof o){for(i in h="trend"===e?c.list.trendingGif:c.list.search,C.hasOwnProperty(e)||(C[e]={}),k)if(r=k[i],o.hasOwnProperty(r)&&(a=o[r])&&"object"==typeof a)for(s in C[e].hasOwnProperty(r)||(C[e][r]={}),t=C[e][r],g=(p="left"===r?h.filter(".col-1"):h.filter(".col-2")).width(),p.css("height",0),a)if(a.hasOwnProperty(s)&&(w=a[s])&&w instanceof Array)for(_=w.length,x=0;x<_;x++)y=(b=w[x]).element,v=p.height(),u=(d=parseInt(y.attr("data-width"),10))/(m=d/g),f=parseInt(y.attr("data-height"),10)/m,n=v-v%100,t.hasOwnProperty(n)||(t[n]=[]),t[n].push(b),y.attr("data-pos",n).attr("data-pidx",t[n].length).css({top:v+"px",width:u+"px",height:f+"px"}),p.css("height",v+f+15+"px");l[e]=C[e]}l.itemShow(c.pane.attr("data-active"))},replaceImage:function(){var e,n,o,i,a,r,d,u,f,p,h,g=["left","right"];if(l.hasOwnProperty("trend")&&(e=l.trend)&&"object"==typeof e)for(n in r=c.list.trendingGif,g)if(i=g[n],e.hasOwnProperty(i)&&(o=e[i])&&"object"==typeof o)for(a in"left"===i?r.filter(".col-1"):r.filter(".col-2"),o)if(o.hasOwnProperty(a)&&(f=o[a])&&f instanceof Array)for(h=f.length,p=0;p<h;p++)d=(u=f[p]).element.children("figure"),u.inject&&(u.element.css("background-color",u.element.attr("data-bg-color")),d.stop().css("opacity",0)),t?d.html(s.autoplay?s.list_mp4?u.mp4:u.gif:u.img):d.html(s.list_mp4?u.mp4:s.autoplay?u.gif:u.img),u.inject&&d.animate({opacity:1},1e3,function(){this.parentNode.style.backgroundColor="transparent"})},trend:{left:{},right:{}},search:{left:{},right:{}},suggest:{},history:{}},c={win:null,doc:null,body:null,content:null,pane:null,anchor:null,header:null,autoplay:null,section:{sections:null,trend:null,search:null},list:{trendSearch:null,trendingGif:null,suggest:null,search:null},scroll:{scrolls:null,trendSearch:null,suggest:null},cols:{trend:{left:[],right:[]},search:{left:[],right:[]}},opener:null},d={x:0,y:0,originX:0,originY:0,offsetX:10,offsetY:10,windowHeight:0,windowWidth:0},u=["#000","#222","#444","#666","#999","#ccc","#eee","#fff","#f00","#f90","#ff0","#0f0","#0ff","#00f","#90f","#f0f","#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#cfe2f3","#d9d2e9","#ead1dc","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd","#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0","#c00","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79","#900","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47","#600","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"],f={tenor:{init:function(){var n={anon_id:1,trend:1,trend_search:1},i=0;this.defer.progress(function(e,t,o){if("done"===e)"anon_id"===t?(i+=1,f.tenor.trend_search(),f.tenor.trend(null)):"trend"===t?i+=1:"trend_search"===t&&(i+=1),3===i&&f.tenor.defer.resolve();else if(n.hasOwnProperty(t)){if(++n[t]>=5)return void f.tenor.defer.reject("Fail to load data ["+t+"]");f.tenor[t](o)}}).done(function(){var t,n,i,s=c.list.trendSearch.find("ul");c.list.trendingGif;for(n=r.CACHE.data.trend_search.length,t=0;t<n;t++)i=r.CACHE.data.trend_search[t],s.append(e("<li/>").append(e("<figure/>").append(e("<span>").append(e("<img/>",{alt:i.name,src:i.image}))).append("<figcaption>"+i.searchterm+"</figcaption>")));o=!0,f.tenor.init_result=!0,p.run("dom.win::resize-inven-gif-scroll"),c.opener||(a=!0)}).fail(function(e){o=!1,f.tenor.init_result=!1,f.tenor.init_fail_msg=e}).always(function(){c.opener&&!t&&INVEN&&INVEN.GIF&&INVEN.GIF.setPosition()}),this.anon_id()},defer:e.Deferred(),init_result:!1,init_fail_msg:"",anon_id:function(){s.sessionStorage&&(r.ANON_ID=window.sessionStorage.getItem("TENOR_ANON_ID")),r.ANON_ID?this.defer.notify("done","anon_id"):e.ajax({method:"GET",url:"https://api.tenor.com/v1/anonid?key="+r.API_KEY}).done(function(e){r.ANON_ID=e&&e.anon_id?e.anon_id:"",s.sessionStorage&&window.sessionStorage.setItem("TENOR_ANON_ID",r.ANON_ID),f.tenor.defer.notify("done","anon_id")}).fail(function(e,t){f.tenor.defer.notify("fail","anon_id")}).always(function(){})},trend:function(t){r.PROCESSING||(r.PROCESSING=!0,e.ajax({method:"GET",url:"https://api.tenor.com/v1/trending?contentfilter=high&locale=en_US&ar_range=all&media_filter=basic&limit="+r.LIMIT+"&key="+r.API_KEY+"&anon_id="+r.ANON_ID+(t?"&pos="+t:"")}).done(function(e){l.cache("trend",e),"pending"===f.tenor.defer.state()?f.tenor.defer.notify("done","trend"):f.tenor.defer.state()}).fail(function(){"pending"===f.tenor.defer.state()&&f.tenor.defer.notify("fail","trend",t)}).always(function(){r.PROCESSING=!1}))},trend_search:function(){if(s.sessionStorage){var t=window.sessionStorage.getItem("TENOR_TREND_SEARCH_CACHED"),n=new Date;if(t&&parseInt(t,10)+r.CACHE.expire>n.getTime()&&(r.CACHE.data.trend_search=window.sessionStorage.getItem("TENOR_TREND_SEARCH_DATA")),r.CACHE.data.trend_search)try{return r.CACHE.data.trend_search=JSON.parse(r.CACHE.data.trend_search),void f.tenor.defer.notify("done","trend_search")}catch(e){}}e.ajax({type:"GET",url:"https://api.tenor.com/v1/categories?type=trending&contentfilter=high&key="+r.API_KEY+"&anon_id="+r.ANON_ID}).done(function(e){e&&e.hasOwnProperty("tags")?(r.CACHE.data.trend_search=e.tags,s.sessionStorage&&(window.sessionStorage.setItem("TENOR_TREND_SEARCH_CACHED",(new Date).getTime().toString()),window.sessionStorage.setItem("TENOR_TREND_SEARCH_DATA",JSON.stringify(r.CACHE.data.trend_search))),f.tenor.defer.notify("done","trend_search")):f.tenor.defer.notify("fail","trend_search")}).fail(function(){f.tenor.defer.notify("fail","trend_search")})},search:function(t){if(r.PROCESSING)igeDialog({title:"Alert",contents:"Your request is being processed.<br>Please try again later.",type:"warning",alignCenter:!0});else{r.PROCESSING=!0,p.run("dom.doc::scroll.inven-gif-pane");var n=e.Deferred(),o=t?1:2,i=!t;n.progress(function(e,t){var a,s,d;if("suggest"===e){if(l.suggest.hasOwnProperty(r.KEYWORD)&&"object"==typeof l.suggest[r.KEYWORD]||(l.suggest[r.KEYWORD]=t),(d=c.list.suggest.find("ul")).html(""),s=t.results.length){for(a=0;a<s;a++)d.append("<li><span>"+t.results[a]+"</span></li>");c.list.suggest.parent().show(),c.list.suggest.find("ul").scrollLeft(0),c.scroll.suggest.find("span").css("left",0)}}else"search"===e&&(i&&c.list.search.parent()[t&&t.results&&t.results.length?"removeClass":"addClass"]("no-result"),l.cache("search",t));0==--o&&n.resolve()}).done(function(){r.PROCESSING=!1,i&&p.run("dom.win::resize-inven-gif-scroll")}).fail(function(){igeDialog({title:"Alert",contents:"An error has occurred.<br>Please try again later.",type:"warning",alignCenter:!0}),r.PROCESSING=!1}).always(function(){p.run("dom.doc::scroll.inven-gif-pane")}),t||(l.suggest.hasOwnProperty(r.KEYWORD)&&"object"==typeof l.suggest[r.KEYWORD]?n.notify("suggest",l.suggest[r.KEYWORD]):e.ajax({type:"GET",url:"https://api.tenor.com/v1/search_suggestions?locale=en_US&key="+r.API_KEY+"&anon_id="+r.ANON_ID+"&limit=20&q="+r.KEYWORD}).done(function(e){n.notify("suggest",e)}).fail(function(e){n.reject("suggest")})),e.ajax({type:"GET",url:"https://api.tenor.com/v1/search?locale=enUS&contentfilter=high&key="+r.API_KEY+"&anon_id="+r.ANON_ID+"&limit="+r.LIMIT+"&q="+r.KEYWORD+(t?"&pos="+t:"")}).done(function(e){n.notify("search",e)}).fail(function(){n.reject("search")})}}}},p={vars:{search_scroll:{current:"trend",doing:!1,trend:{start:0,acceleration:0,last:0,scrollLeft:0,prev:0,leftMax:0},relate:{start:0,acceleration:0,last:0,scrollLeft:0,prev:0,leftMax:0}}},_list:{},_triggers:{},register:function(e,t){this._list[e]=t},init:function(){var e,t,n;for(e in this._list){if(!this._list.hasOwnProperty(e)||"function"!=typeof(t=this._list[e]))return;(n=this.evt(e))&&(n.target?n.elm.on(n.eTypes,n.target,t):n.elm.on(n.eTypes,t))}},addTrigger:function(e,t){this._triggers[e]=t},on:function(e){var t,n;this._triggers.hasOwnProperty(e)&&"function"==typeof(t=this._triggers[e])&&(n=this.evt(e))&&(n.target?n.elm.on(n.eTypes,n.target,t):n.elm.on(n.eTypes,t))},off:function(e){if(this._triggers.hasOwnProperty(e)){var t=this.evt(e);t&&(t.target?t.elm.off(t.eTypes,t.target):t.elm.off(t.eTypes))}},run:function(e,t){if(this._list.hasOwnProperty(e)||this._triggers.hasOwnProperty(e)){var n=this.evt(e);n&&n.elm.trigger(n.eTypes,t)}},evt:function(t){var n,o,i,a,r,s,l,d,u=t.match(/(.+?):(.*?):(.+)?/),f=e();if(u){if(n=u[1].split("|").map(function(e){return e.split(".")}).filter(function(e){return e.length>=2}),o=u[2],i=u[3].replace(/\s*,\s*/," "),!(a=n.length))return null;for(s=0;s<a;s++){for(d=c,r=n[s].length,l=1;l<r;l++)d=d[n[s][l]];f=f.add(d)}return{elm:f,target:o,eTypes:i}}return null}},h=function(){if(!o){var n=document.createElement("video"),i=s.sessionStorage?window.localStorage.getItem("inven.gif.autoplay"):null;s.video=!!n.canPlayType&&!!n.canPlayType("video/mp4")&&!document.documentMode,s.list_mp4=!1,s.console=!(!window.hasOwnProperty("console")||"object"!=typeof window.console||"function"!=typeof console.log),c.win=e(window),c.doc=e(document),c.doc.ready(function(){c.body=e("body"),c.pane=e("#inven-gif-pane"),c.anchor=c.pane.find(".anchor"),c.header=c.pane.children(".header"),c.section.sections=c.pane.children(".section"),c.section.trend=c.pane.children(".section-trending"),c.section.search=c.pane.children(".section-search"),c.list.trendSearch=c.section.trend.find(".trending-search .list"),c.list.trendingGif=c.section.trend.find(".gif-items ul"),c.list.search=c.section.search.find(".gif-items ul"),c.list.suggest=c.section.search.find(".search-suggest .list"),c.scroll.scrolls=c.section.sections.find(".scroll-wrap"),c.scroll.trendSearch=c.section.trend.find(".scroll-wrap .scroll"),c.scroll.suggest=c.section.search.find(".scroll-wrap .scroll"),c.autoplay=c.section.trend.find("h3 .gif-auto-play"),p.vars.matchMedia={evt:c.win[0].matchMedia("(max-width: 620px)"),fn:function(e){e.matches?(t=!0,c.pane.addClass("mobile").removeClass("desktop").css({top:0,left:0})):(t=!1,c.pane.removeClass("mobile").addClass("desktop"),c.opener?l.recalcPos(c.pane.attr("data-active")):a=!0)}},p.init(),p.vars.matchMedia.evt.addListener(p.vars.matchMedia.fn),p.vars.matchMedia.fn.bind(null,p.vars.matchMedia.evt)(),s.autoplay=!!("string"==typeof i?"on"===i:"object"!=typeof i||i||!t),s.autoplay&&c.autoplay.addClass("on"),c.pane.toggleClass("darkmode",e("#IGCCS").hasClass("darkmode")),p.run("dom.win::resize.inven-gif-pane")}),o=!0}};h.prototype={__provider__:"INVEN",show:function(t,n){if(t.stopPropagation(),c&&c.pane&&t.currentTarget!==c.opener){var o=this;c.doc.off("mouseup.inven-gif-pane-close").on("mouseup.inven-gif-pane-close",function(t){p.vars.search_scroll.doing||e(t.target).closest("#inven-gif-pane").length||r.PANE_OPEN&&o.close()}),c.header.find('input[name="inven-gif-search-term"]').val(""),c.pane.show(),c.opener=e(t.currentTarget),r.ANON_ID||f.tenor.init(),p.run("dom.pane::active-pane-change","trend"),a&&(p.run("dom.win::resize.inven-gif-pane"),a=!1),c.section.trend.scrollTop(0),this.setPosition(),r.PANE_OPEN=!0,i=n}},close:function(){if(c&&c.pane){if(p.vars.hasOwnProperty("search_scroll")&&p.vars.search_scroll.start)return;c.doc.off("mouseup.inven-gif-pane-close"),c.pane.hide(),r.PANE_OPEN=!1,c.opener=null,c.body.removeClass("o-hidden")}},toggle:function(t,n){!0!==r.PANE_OPEN?(this.show(t,n),e(t.target).off("mouseup.inven-gif-toogle-btn").on("mouseup.inven-gif-toogle-btn",function(e){return!1})):this.close()},setPosition:function(){if(c.pane&&c.opener){if(t)return c.body.is(".o-hidden")||c.body.addClass("o-hidden"),void c.pane.css({top:0,left:0});c.body.is(".o-hidden")&&c.body.removeClass("o-hidden");var e=c.opener,n=c.pane.outerWidth(),o=c.pane.outerHeight(),i=e.outerWidth(),a=e.outerHeight(),r=c.win.scrollTop(),s=d.windowHeight,l=e.offset(),u="forum"===e.attr("data-inven-gif-call")?e.closest("#igef-editor"):e.closest(".IGCCS-write"),f=u.offset().left,p=f+u.outerWidth(),h=l.left+i-f>n?p-n:f,g=l.top+a+c.anchor.outerHeight(),m=l.left-h+i/2-c.anchor.outerWidth()/2,v=l.top+a/2,y=h,b=g,w="top";b+o>s+r&&v>r+s/2&&((b=e.offset().top-o-c.anchor.outerHeight())>0?w="bottom":b=g),c.anchor["top"===w?"removeClass":"addClass"]("bottom"),d.x=y,d.y=b,d.originX=h,d.originY=g,c.pane.css({top:b,left:y}),c.anchor.css({left:m})}}},p.register("dom.doc::scroll.inven-gif-pane",function(){c.opener&&!t&&INVEN&&INVEN.GIF&&INVEN.GIF.setPosition()}),p.register("dom.win::resize.inven-gif-pane",function(){var e;d.windowHeight=c.win.height(),d.windowWidth=c.win.width(),c.opener?(e=c.pane.attr("data-active"),!t&&INVEN&&INVEN.GIF?(INVEN.GIF.setPosition(),a&&l.recalcPos(e)):t&&(l.recalcPos(e),"search"===e&&(a=!0)),n=t?2*c.pane.height():1e3,p.run("dom.win::resize-inven-gif-scroll")):a=!0}),p.register("dom.win::resize-inven-gif-scroll",function(){var e=0,t=p.vars.search_scroll;c.list.trendSearch.find("li").each(function(){var t=this.currentStyle||c.win[0].getComputedStyle(this);e+=this.offsetWidth+parseInt(t.marginLeft,10)+parseInt(t.marginRight,10)}),t.trend.acc=e/c.list.trendSearch.width()*.3,t.trend.leftMax=(t.trend.leftMax=e-c.list.trendSearch.width())<0?0:t.trend.leftMax,c.scroll.trendSearch.children("span").css({width:t.trend.leftMax>0?c.scroll.trendSearch.width()*(c.list.trendSearch.width()/e):c.list.trendSearch.width()}),e=0,c.list.suggest.find("li").each(function(){var t=this.currentStyle||c.win[0].getComputedStyle(this);e+=this.offsetWidth+parseInt(t.marginLeft,10)+parseInt(t.marginRight,10)}),t.relate.acc=e/c.list.suggest.width()*.3,t.relate.leftMax=(t.relate.leftMax=e-c.list.suggest.width())<0?0:t.relate.leftMax,c.scroll.suggest.children("span").css({width:t.relate.leftMax>0?c.scroll.suggest.width()*(c.list.suggest.width()/e):c.list.suggest.width()})}),p.register("dom.scroll.scrolls:ul:mousedown.inven-gif-trending-search,touchstart.inven-gif-trending-search",function(t){var n=e(this),o=p.vars,i=n.is(".term-trending")?"trend":"relate";o.search_scroll.current=i,(o=o.search_scroll[i]).start=!0,o.last=0,o.scrollLeft=n.scrollLeft(),o.prevX="mousedown"===t.type?t.pageX:t.touches[0].pageX,o.prevY="mousedown"===t.type?t.pageY:t.touches[0].pageY,o.startTime=t.timeStamp,o.animate={use:!0,ms:0,startLeft:o.scrollLeft},o.useScroll=!1,p.on("dom.pane|dom.doc::mousemove.inven-gif-scroll,touchmove.inven-gif-scroll"),p.on("dom.doc::mouseup.inven-gif-scroll,touchend.inven-gif-scroll"),p.run("dom.scroll."+("trend"===i?"trendSearch":"suggest")+"::scrollTo")}),p.addTrigger("dom.pane|dom.doc::mousemove.inven-gif-scroll,touchmove.inven-gif-scroll",function(n){var o,i,a,r,s=p.vars.search_scroll;if(!t&&e(n.currentTarget).is(c.pane))return!0;if((o=s[s.current])&&o.start){if(s.doing||(s.doing=!0),i=o.prevX-("mousemove"===n.type?n.pageX:n.touches[0].pageX),a=o.prevY-("mousemove"===n.type?n.pageY:n.touches[0].pageY),!o.useScroll&&Math.abs(i)<=Math.abs(a))return o.start=!1,!0;n.stopPropagation(),n.preventDefault(),i=(r=o.animate.startLeft)+i<0?-r:r+i>o.leftMax?o.leftMax-r:i,o.scrollLeft=r+i,o.animate.moveX=i,o.useScroll=o.useScroll||Math.abs(i)>10,("trend"===s.current?c.list.trendSearch.children("ul"):c.list.suggest.find("ul")).stop(!0).animate({scrollLeft:o.scrollLeft},0,"linear"),p.run("dom.scroll."+("trend"===p.vars.search_scroll.current?"trendSearch":"suggest")+"::scrollTo")}}),p.addTrigger("dom.doc::mouseup.inven-gif-scroll,touchend.inven-gif-scroll",function(e){var t,n,o,i,a,r,s=p.vars.search_scroll;(t=s[s.current])&&t.start&&(t.start=!1,s.doing&&(s.doing=!1),t.useScroll&&(e.stopPropagation(),e.preventDefault(),r=t.animate.startLeft,n=(e.timeStamp-t.startTime)/Math.abs(t.animate.moveX),o=1.5-Math.min(1.5,n),a=t.animate.moveX*o*t.acc,a=(i=r+t.animate.moveX+a)<0?-1*(r+t.animate.moveX):i>t.leftMax?t.leftMax-(r+t.animate.moveX):a,t.scrollLeft+=a,t.animate.ms=Math.abs(a*n*2),("trend"===s.current?c.list.trendSearch.children("ul"):c.list.suggest.find("ul")).stop(!0).animate({scrollLeft:t.scrollLeft},t.animate.ms,"linear"),p.run("dom.scroll."+("trend"===p.vars.search_scroll.current?"trendSearch":"suggest")+"::scrollTo")),delete t.animate),p.off("dom.pane|dom.doc::mousemove.inven-gif-scroll,touchmove.inven-gif-scroll"),p.off("dom.doc::mouseup.inven-gif-scroll,touchend.inven-gif-scroll")}),p.register("dom.scroll.scrolls:.scroll span:mousedown.inven-gif-scrollbar,touchstart.inven-gif-scrollbar",function(t){var n=c.pane.attr("data-active");p.vars.search_scroll.handle={type:n,list:c.list["trend"===n?"trendSearch":"suggest"].children("ul"),start:!0,offsetX:parseInt(e(this).css("left")),width:e(this).outerWidth(),prevX:"mousedown"==t.type?t.pageX:t.touches[0].pageX},p.on("dom.pane::mousemove.inven-gif-scrollbar,touchmove.inven-gif-scrollbar"),p.on("dom.doc::mouseup.inven-gif-scrollbar,touchend.inven-gif-scrollbar")}),p.addTrigger("dom.pane::mousemove.inven-gif-scrollbar,touchmove.inven-gif-scrollbar",function(e){var t=p.vars.search_scroll.handle;if(t&&!0===t.start){var n="trend"===t.type?"trendSearch":"suggest",o=c.scroll[n],i=p.vars.search_scroll["trend"==t.type?"trend":"relate"];i.scrollLeft=i.leftMax*((t.offsetX+("mousemove"==e.type?e.pageX:e.touches[0].pageX)-t.prevX)/(o.width()-t.width)),i.scrollLeft=Math.min(i.leftMax,Math.max(0,i.scrollLeft)),t.list.scrollLeft(i.scrollLeft),p.run("dom.scroll."+n+"::scrollTo")}}),p.addTrigger("dom.doc::mouseup.inven-gif-scrollbar,touchend.inven-gif-scrollbar",function(e){var t=p.vars.search_scroll.handle;t&&!0===t.start&&(p.off("dom.pane::mousemove.inven-gif-scrollbar,touchmove.inven-gif-scrollbar"),p.off("dom.doc::mouseup.inven-gif-scrollbar,touchend.inven-gif-scrollbar"),delete p.vars.search_scroll.handle)}),p.register("dom.scroll.trendSearch::scrollTo",function(){var e=c.scroll.trendSearch.children("span"),t=p.vars.search_scroll.trend,n=(c.scroll.trendSearch.width()-Math.round(e.outerWidth()))*(t.scrollLeft/t.leftMax);"object"==typeof t.animate&&t.animate.use?e.stop(!0).animate({left:n},t.animate.ms,"linear"):e.css("left",n)}),p.register("dom.scroll.suggest::scrollTo",function(){var e=c.scroll.suggest.children("span"),t=p.vars.search_scroll.relate,n=(c.scroll.suggest.width()-Math.round(e.outerWidth()))*(t.scrollLeft/t.leftMax);"object"==typeof t.animate&&t.animate.use?e.stop(!0).animate({left:n},t.animate.ms,"linear"):e.css("left",n)}),p.register("dom.scroll.trendSearch::mousedown",function(e){if("SPAN"!==e.target.nodeName){e.preventDefault();var t=c.scroll.trendSearch,n=p.vars.search_scroll.trend;n.scrollLeft=n.leftMax*(e.offsetX/t.width()),c.list.trendSearch.children("ul").scrollLeft(n.scrollLeft),p.run("dom.scroll.trendSearch::scrollTo")}}),p.register("dom.scroll.suggest::mousedown",function(e){if("SPAN"!==e.target.nodeName){e.preventDefault();var t=c.scroll.suggest,n=p.vars.search_scroll.relate;n.scrollLeft=n.leftMax*(e.offsetX/t.width()),c.list.suggest.children("ul").scrollLeft(n.scrollLeft),p.run("dom.scroll.suggest::scrollTo")}}),p.register("dom.list.trendSearch:li:click",function(t){p.vars.search_scroll.trend.useScroll||(p.off("dom.pane|dom.doc::mousemove.inven-gif-scroll,touchmove.inven-gif-scroll"),p.off("dom.doc::mouseup.inven-gif-scroll,touchend.inven-gif-scroll"),c.header.find('input[name="inven-gif-search-term"]').val(e.trim(e(this).find("figcaption").text())),c.header.find("form").submit())}),p.register("dom.list.suggest:li:click",function(t){p.vars.search_scroll.relate.useScroll||(p.off("dom.pane|dom.doc::mousemove.inven-gif-scroll,touchmove.inven-gif-scroll"),p.off("dom.doc::mouseup.inven-gif-scroll,touchend.inven-gif-scroll"),c.header.find('input[name="inven-gif-search-term"]').val(e.trim(e(this).find("span").text())),c.header.find("form").submit())}),p.register("dom.list.trendingGif:figure:click",function(){i(this),INVEN.GIF.close()}),p.register("dom.list.search:figure:click",function(){i(this),INVEN.GIF.close()}),p.register("dom.section.sections::scroll",function(t){if(t.stopPropagation(),!r.PROCESSING){var o=e(this),i=o.is(".section-search")?"search":"trend",a=o.scrollTop(),s=a-a%100+o.outerHeight()/2,c=this.scrollHeight,d=o.data("last-pos");if(!d||d!==s){if(s+n>c){if(!r.NEXT[i])return;f.tenor[i](r.NEXT[i])}else l.itemShow(i);o.data("last-pos",s)}}}),p.register("dom.header:form:submit",function(t){t.preventDefault();var n=e(t.currentTarget).find('input[name="inven-gif-search-term"]').blur().val();(n=e.trim(n))&&(n=encodeURIComponent(n))?(p.run("dom.pane::active-pane-change","search"),r.KEYWORD!==n&&(r.PRE_KEYWORD=r.KEYWORD,r.KEYWORD=n,l.prepareNewSearch(),c.list.suggest.parent().hide(),r.NEXT.search=0,c.section.search.scrollTop(0),c.section.search.find("h3 > .keyword").text(decodeURIComponent(n)),f.tenor.search())):igeDialog({title:"Alert",contents:"Please enter a valid search term.",type:"warning",alignCenter:!0})}),p.register("dom.header:.btn-close:click",function(e){INVEN.GIF.close()}),p.register("dom.section.search:.view-trend-pane:click",function(e){c.header.find('input[name="inven-gif-search-term"]').val(""),p.run("dom.pane::active-pane-change","prev-trend")}),p.register("dom.header:.tenor-logo:click",function(e){e.preventDefault(),c.header.find('input[name="inven-gif-search-term"]').val(""),p.run("dom.pane::active-pane-change","prev-trend"),p.run("dom.section.trend::reset-view")}),p.register("dom.pane::active-pane-change",function(e,n){this.setAttribute("data-active","search"===n?"search":"trend"),"trend"!==n&&"prev-trend"!==n||(r.NEXT.search=null,r.KEYWORD="",r.PRE_KEYWORD=""),"trend"===n?p.run("dom.section.trend::reset-view"):"prev-trend"===n&&(t&&a?p.run("dom.win::resize.inven-gif-pane"):p.run("dom.win::resize-inven-gif-scroll")),p.run("dom.doc::scroll.inven-gif-pane")}),p.register("dom.section.trend::reset-view",function(){p.run("dom.win::resize-inven-gif-scroll"),c.section.trend.scrollTop(0),c.list.trendSearch.children("ul").scrollLeft(0),p.vars.search_scroll.trend.scrollLeft=0,p.run("dom.scroll.trendSearch::scrollTo")}),p.register("dom.autoplay::click",function(){s.autoplay=e(this).toggleClass("on").is(".on"),s.sessionStorage&&window.localStorage.setItem("inven.gif.autoplay",s.autoplay?"on":"off"),l.replaceImage()}),INVEN.GIF=new h}(jQuery);
